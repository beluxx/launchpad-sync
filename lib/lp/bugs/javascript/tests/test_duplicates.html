<!DOCTYPE html>
<!--
Copyright 2012 Canonical Ltd.  This software is licensed under the
GNU Affero General Public License version 3 (see the file LICENSE).
-->

<html>
  <head>
      <title>lp.bugs.duplicates Tests</title>

      <!-- YUI and test setup -->
      <script type="text/javascript"
              src="../../../../../build/js/yui/yui/yui.js">
      </script>
      <link rel="stylesheet"
      href="../../../../../build/js/yui/console/assets/console-core.css" />
      <link rel="stylesheet"
      href="../../../../../build/js/yui/test-console/assets/skins/sam/test-console.css" />

      <script type="text/javascript"
              src="../../../../../build/js/lp/app/testing/testrunner.js"></script>
      <script type="text/javascript"
              src="../../../../../build/js/lp/app/testing/helpers.js"></script>

      <link rel="stylesheet" href="../../../app/javascript/testing/test.css" />

      <!-- Dependencies -->
      <script type="text/javascript" src="../../../../../build/js/lp/app/mustache.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/anim/anim.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/client.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/errors.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/lp.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/testing/mockio.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/activator/activator.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/effects/effects.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/expander.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/extras/extras.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/formoverlay/formoverlay.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/formwidgets/formwidgets.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/inlineedit/editor.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/ui/ui.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/overlay/overlay.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/picker/picker.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/bugs/bug_picker.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/bugs/bugtask_index.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/banners/banner.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/banners/privacy.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/choice.js"></script>
      <script type="text/javascript" src="../../../../../build/js/lp/app/choiceedit/choiceedit.js"></script>

      <!-- The module under test. -->
      <script type="text/javascript" src="../duplicates.js"></script>

      <!-- Placeholder for any css asset for this module. -->
      <!-- <link rel="stylesheet" href="../assets/lp.bugs.bug_picker-core.css" /> -->

      <!-- The test suite -->
      <script type="text/javascript" src="test_duplicates.js"></script>
      <script type="text/javascript" src="test_bug_picker.js"></script>

    </head>
    <body class="yui3-skin-sam">
        <ul id="suites">
            <li>lp.bugs.duplicates.test</li>
        </ul>
        <div id="fixture">
        </div>
        <script type="text/x-template" id="no-existing-duplicate">
            <table id="affected-software"></table>
            <a href="#" class="pick-bug js-action">Select a bug</a>
            <div><ul id="duplicate-actions">
                <li class="sprite bug-dupe">
                    <span id="mark-duplicate-text">
                    <a href="http://foo/+duplicate"
                       class="menu-link-mark-dupe js-action">
                        Mark as duplicate</a>
                    </span>
                </li>
            </ul></div>
            <div id="duplicate-form-container"></div>
            <div id="warning-comment-on-duplicate"></div>
            <div id="add-comment-form"></div>
            <div id="portlet-duplicates"></div>
            <div id="bug-is-duplicate"></div>
        </script>
        <script type="text/x-template" id="existing-duplicate">
            <table id="affected-software"></table>
            <a href="#" class="pick-bug js-action">Select a bug</a>
            <div><ul id="duplicate-actions">
                <li>
                    <span id="mark-duplicate-text">
                    <a class="sprite edit action-icon bug-duplicate-details"
                       title="Edit or remove linked duplicate bug"
                       id="change-duplicate-bug"
                       href="http://foo/+duplicate">Edit</a>
                    Duplicate of <a href="http://foo/bugs/1234">bug #1234
                    </a>
                    </span>
                </li>
            </ul></div>
            <div id="duplicate-form-container"></div>
            <div id="warning-comment-on-duplicate"></div>
            <div id="add-comment-form"></div>
            <div id="bug-is-duplicate">
                <p class="bug-duplicate-details">A dupe</p>
            </div>
        </script>
    </body>
</html>
